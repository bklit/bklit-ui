{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "grid",
  "type": "registry:component",
  "title": "Chart Grid",
  "description": "Grid lines for charts",
  "dependencies": ["@visx/grid@4.0.1-alpha.0"],
  "registryDependencies": ["https://ui.bklit.com/r/chart-context.json"],
  "files": [
    {
      "path": "src/charts/grid.tsx",
      "content": "\"use client\";\n\nimport { GridColumns, GridRows } from \"@visx/grid\";\nimport { useId } from \"react\";\nimport { chartCssVars, useChart } from \"./chart-context\";\n\nexport interface GridProps {\n  /** Show horizontal grid lines. Default: true */\n  horizontal?: boolean;\n  /** Show vertical grid lines. Default: false */\n  vertical?: boolean;\n  /** Number of horizontal grid lines. Default: 5 */\n  numTicksRows?: number;\n  /** Number of vertical grid lines. Default: 10 */\n  numTicksColumns?: number;\n  /** Grid line stroke color. Default: var(--chart-grid) */\n  stroke?: string;\n  /** Grid line stroke opacity. Default: 1 */\n  strokeOpacity?: number;\n  /** Grid line stroke width. Default: 1 */\n  strokeWidth?: number;\n  /** Grid line dash array. Default: \"4,4\" for dashed lines */\n  strokeDasharray?: string;\n  /** Enable horizontal fade effect on grid rows (fades at left/right). Default: true */\n  fadeHorizontal?: boolean;\n  /** Enable vertical fade effect on grid columns (fades at top/bottom). Default: false */\n  fadeVertical?: boolean;\n}\n\nexport function Grid({\n  horizontal = true,\n  vertical = false,\n  numTicksRows = 5,\n  numTicksColumns = 10,\n  stroke = chartCssVars.grid,\n  strokeOpacity = 1,\n  strokeWidth = 1,\n  strokeDasharray = \"4,4\",\n  fadeHorizontal = true,\n  fadeVertical = false,\n}: GridProps) {\n  const { xScale, yScale, innerWidth, innerHeight, orientation, barScale } =\n    useChart();\n\n  // For bar charts, determine which scale to use for grid lines\n  // Horizontal bar charts: vertical grid should use yScale (value scale)\n  // Vertical bar charts: horizontal grid uses yScale (value scale)\n  const isHorizontalBarChart = orientation === \"horizontal\" && barScale;\n\n  // For vertical grid lines in horizontal bar charts, use yScale (the value scale)\n  // For time-based charts, use xScale\n  const columnScale = isHorizontalBarChart ? yScale : xScale;\n  const uniqueId = useId();\n\n  // Horizontal fade mask (for grid rows - fades left/right)\n  const hMaskId = `grid-rows-fade-${uniqueId}`;\n  const hGradientId = `${hMaskId}-gradient`;\n\n  // Vertical fade mask (for grid columns - fades top/bottom)\n  const vMaskId = `grid-cols-fade-${uniqueId}`;\n  const vGradientId = `${vMaskId}-gradient`;\n\n  return (\n    <g className=\"chart-grid\">\n      {/* Gradient mask for horizontal grid lines - fades at left/right */}\n      {horizontal && fadeHorizontal && (\n        <defs>\n          <linearGradient id={hGradientId} x1=\"0%\" x2=\"100%\" y1=\"0%\" y2=\"0%\">\n            <stop offset=\"0%\" style={{ stopColor: \"white\", stopOpacity: 0 }} />\n            <stop offset=\"10%\" style={{ stopColor: \"white\", stopOpacity: 1 }} />\n            <stop offset=\"90%\" style={{ stopColor: \"white\", stopOpacity: 1 }} />\n            <stop\n              offset=\"100%\"\n              style={{ stopColor: \"white\", stopOpacity: 0 }}\n            />\n          </linearGradient>\n          <mask id={hMaskId}>\n            <rect\n              fill={`url(#${hGradientId})`}\n              height={innerHeight}\n              width={innerWidth}\n              x=\"0\"\n              y=\"0\"\n            />\n          </mask>\n        </defs>\n      )}\n\n      {/* Gradient mask for vertical grid lines - fades at top/bottom */}\n      {vertical && fadeVertical && (\n        <defs>\n          <linearGradient id={vGradientId} x1=\"0%\" x2=\"0%\" y1=\"0%\" y2=\"100%\">\n            <stop offset=\"0%\" style={{ stopColor: \"white\", stopOpacity: 0 }} />\n            <stop offset=\"10%\" style={{ stopColor: \"white\", stopOpacity: 1 }} />\n            <stop offset=\"90%\" style={{ stopColor: \"white\", stopOpacity: 1 }} />\n            <stop\n              offset=\"100%\"\n              style={{ stopColor: \"white\", stopOpacity: 0 }}\n            />\n          </linearGradient>\n          <mask id={vMaskId}>\n            <rect\n              fill={`url(#${vGradientId})`}\n              height={innerHeight}\n              width={innerWidth}\n              x=\"0\"\n              y=\"0\"\n            />\n          </mask>\n        </defs>\n      )}\n\n      {horizontal && (\n        <g mask={fadeHorizontal ? `url(#${hMaskId})` : undefined}>\n          <GridRows\n            numTicks={numTicksRows}\n            scale={yScale}\n            stroke={stroke}\n            strokeDasharray={strokeDasharray}\n            strokeOpacity={strokeOpacity}\n            strokeWidth={strokeWidth}\n            width={innerWidth}\n          />\n        </g>\n      )}\n      {vertical && columnScale && typeof columnScale === \"function\" && (\n        <g mask={fadeVertical ? `url(#${vMaskId})` : undefined}>\n          <GridColumns\n            height={innerHeight}\n            numTicks={numTicksColumns}\n            scale={columnScale}\n            stroke={stroke}\n            strokeDasharray={strokeDasharray}\n            strokeOpacity={strokeOpacity}\n            strokeWidth={strokeWidth}\n          />\n        </g>\n      )}\n    </g>\n  );\n}\n\nGrid.displayName = \"Grid\";\n\nexport default Grid;\n",
      "type": "registry:component",
      "target": "components/charts/grid.tsx"
    }
  ]
}
